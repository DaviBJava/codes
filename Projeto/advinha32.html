<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jogo de Adivinha√ß√£o</title>
</head>
<body>
    <script>
// JOGO DE ADIVINHA√á√ÉO - N√çVEL DIF√çCIL + JOGAR NOVAMENTE

// O objeto 'jogador' fica FORA da fun√ß√£o para persistir entre as partidas.
const jogador = {
  nome: "",
  recorde: Infinity // Come√ßa com infinito para que a primeira pontua√ß√£o seja sempre menor
};

function iniciarJogo() {
  // Pergunta o nome do jogador apenas uma vez, no in√≠cio da primeira partida.
  if (!jogador.nome) {
    jogador.nome = prompt("Ol√°! Qual √© o seu nome?");
    // Se o jogador cancelar, damos um nome padr√£o.
    if (!jogador.nome) {
        jogador.nome = "Visitante";
    }
  }

  // <<-- NOVO: Loop principal que controla se o jogo continua -->>
  while (true) {
    
    // 1. PREPARA√á√ÉO (Estas vari√°veis s√£o resetadas a cada nova partida)
    const numeroSecreto = Math.floor(Math.random() * 100) + 1;
    let palpite;
    let tentativas = 0;
    const palpitesAnteriores = [];

    alert(`Ol√°, ${jogador.nome}! O jogo vai come√ßar. Boa sorte!
    \nSeu recorde atual √© de ${jogador.recorde === Infinity ? 'nenhuma partida jogada' : jogador.recorde + ' tentativas'}.`);
    
    console.log("N√∫mero secreto (para teste):", numeroSecreto);

    // 2. O JOGO (Loop interno de adivinha√ß√£o)
    while (palpite != numeroSecreto) {
      palpite = Number(prompt("Adivinhe o n√∫mero entre 1 e 100:"));

      if (palpite === 0 || !palpite) {
        alert("Jogo cancelado.");
        break; // Sai do loop de adivinha√ß√£o, mas n√£o do loop principal
      }

      palpitesAnteriores.push(palpite);
      tentativas++;

      // 3. A L√ìGICA DAS DICAS
      if (palpite < numeroSecreto) {
        alert("O n√∫mero secreto √© MAIOR! Tente novamente.");
      } else if (palpite > numeroSecreto) {
        alert("O n√∫mero secreto √© MENOR! Tente novamente.");
      }
    }

    // 4. FIM DE JOGO
    // Esta parte s√≥ executa se o jogador acertou (n√£o se ele cancelou)
    if (palpite == numeroSecreto) {
      let mensagemFinal = `Parab√©ns, ${jogador.nome}! Voc√™ acertou o n√∫mero secreto ${numeroSecreto} em ${tentativas} tentativas!
      \nSeus palpites foram: ${palpitesAnteriores.join(", ")}`;

      // L√≥gica para verificar e atualizar o recorde
      if (tentativas < jogador.recorde) {
        mensagemFinal += `\n\nüéâ NOVO RECORDE! üéâ Seu novo recorde √© de ${tentativas} tentativas.`;
        jogador.recorde = tentativas;
      } else {
        mensagemFinal += `\n\nSeu recorde pessoal ainda √© de ${jogador.recorde} tentativas. Continue tentando!`;
      }

      alert(mensagemFinal);
    }
    
    // <<-- NOVO: Pergunta se o usu√°rio quer jogar novamente -->>
    const jogarNovamente = confirm("Deseja jogar novamente?");
    
    if (jogarNovamente === false) {
      break; // Sai do loop principal 'while(true)' e encerra o jogo.
    }
  } // Fim do loop principal 'while(true)'

  alert(`Obrigado por jogar, ${jogador.nome}! Volte sempre.`);
}

// Chama a fun√ß√£o para iniciar a primeira partida
iniciarJogo();

    </script>
</body>
</html>

<body>
    
</body>
</html>